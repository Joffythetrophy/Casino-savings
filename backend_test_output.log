üöÄ Starting Casino Savings dApp Backend Tests - Focus on Login Functionality
üì° Testing against: https://crypto-treasury.preview.emergentagent.com/api
======================================================================
‚úÖ PASS Basic Connectivity: API accessible, version: 1.0.0

üîê TESTING LOGIN FUNCTIONALITY (USER COMPLAINT: 'Log in is not working')
======================================================================
‚úÖ PASS Authentication Endpoints Availability: ‚úÖ All authentication endpoints are available and responding
‚úÖ PASS Specific User Login (Wallet): ‚úÖ LOGIN SUCCESSFUL for wallet DwK4nUM8TKWAxEBKTG6mWA6PBRDHFPA3beLB18pwCekq (username: cryptoking)
‚ùå FAIL Specific User Login (Username): ‚ùå USERNAME LOGIN FAILED - HTTP 404: {"detail":"Not Found"}
‚úÖ PASS Password Hashing Verification: ‚úÖ Password hashing/verification working correctly - bcrypt authentication successful
‚úÖ PASS Login Error - Invalid Wallet: ‚úÖ Invalid wallet correctly rejected: Wallet address not found
‚úÖ PASS Login Error - Wrong Password: ‚úÖ Wrong password correctly rejected: Invalid password
‚ùå FAIL Login Error - Invalid Username: Expected 200 with error message, got HTTP 404
‚ùå FAIL Login Error - Username Wrong Password: Expected 200 with error message, got HTTP 404
‚úÖ PASS User Registration: User registered successfully: User registered successfully
‚ùå FAIL User Login: HTTP 422: {"detail":[{"type":"missing","loc":["body","identifier"],"msg":"Field required","input":{"wallet_address":"RegTestWallet20250825103716","password":"SecureTestPassword123!"}}]}
‚úÖ PASS Integration Flow: Complete integration flow successful: registration ‚Üí login ‚Üí wallet auth ‚Üí conversion rates
‚úÖ PASS Real DOGE Balance: Real DOGE balance retrieved: 59204.83199296 DOGE from BlockCypher API
‚ùå FAIL DOGE Invalid Address Handling: Expected error for invalid address, got HTTP 200
‚úÖ PASS Real TRX Balance: Real TRX balance retrieved: 1046142.551464 TRX from TronGrid API
‚ùå FAIL TRX Invalid Address Handling: Expected error for invalid address, got HTTP 200
‚úÖ PASS Real CRT Balance: Real CRT balance retrieved: 0.0 CRT from Solana RPC, mint: 9pjWtc6x88wrRMXTxkBcNB6YtcN7NNcyzDAfUMfRknty
‚ùå FAIL CRT Invalid Address Handling: Expected error for invalid address, got HTTP 200
‚úÖ PASS Real SOL Balance: Real SOL balance retrieved: 0.0 SOL (0 lamports) from Solana RPC
‚ùå FAIL All Blockchain Balances: Insufficient blockchain integrations working: only ['CRT', 'SOL']
‚ùå FAIL CRT Token Info: CRT token mint/decimals incorrect: mint=9pjWtc6x88wrRMXTxkBcNB6YtcN7NNcyzDAfUMfRknty, decimals=6
‚úÖ PASS CRT Simulate Deposit: CRT deposit simulation working: Simulated deposit of 1,000,000 CRT to DFvHX8ZdqNqbCLJKnwe4h7qqj3hj4dw3pYvQRzweWnP7
‚ùå FAIL CRT Deposit Validation: Expected 400 for invalid payload, got HTTP 500
‚úÖ PASS Real Crypto Conversion Rates: Real conversion rates working: 12 rates, source: coingecko
‚úÖ PASS Crypto Price - DOGE: Price: $0.217966, 24h change: -5.277162475486567%
‚úÖ PASS Crypto Price - TRX: Price: $0.35133, 24h change: -3.6873507977561766%
‚úÖ PASS Crypto Price - USDC: Price: $0.999805, 24h change: 0.0009112169313860441%
‚úÖ PASS Crypto Price - CRT: Price: $0.15, 24h change: 2.5%
‚úÖ PASS Redis Caching: Redis may be working but cache not hit in test timeframe
‚úÖ PASS Auth Challenge Generation: Challenge generated successfully
‚úÖ PASS Auth Verification: JWT token generated, expires in 86400s
‚úÖ PASS Wallet Info: Wallet info retrieved successfully
‚úÖ PASS Deposit Funds: Deposit successful: Deposited 100.0 CRT
‚ùå FAIL Withdraw Funds: Unexpected withdrawal response
‚úÖ PASS Crypto Conversion: Conversion successful: rate 21.5, amount 215.0
‚úÖ PASS Game Betting: Real bet placed: loss, payout: 0, savings: 5.0
‚úÖ PASS Savings System: Savings system working: 4 games, 3 losses, 3 history entries
‚ùå FAIL WebSocket Wallet Monitor: WebSocket error: server rejected WebSocket connection: HTTP 404
‚úÖ PASS Database Integration: Database integration working: 4 games stored with proper fields

======================================================================
üìä WALLET MANAGEMENT SYSTEM TEST SUMMARY
======================================================================
Total Tests: 39
‚úÖ Passed: 27
‚ùå Failed: 12
Success Rate: 69.2%

üö® CRITICAL FAILURES:
  ‚ùå Specific User Login (Username): ‚ùå USERNAME LOGIN FAILED - HTTP 404: {"detail":"Not Found"}
  ‚ùå User Login: HTTP 422: {"detail":[{"type":"missing","loc":["body","identifier"],"msg":"Field required","input":{"wallet_address":"RegTestWallet20250825103716","password":"SecureTestPassword123!"}}]}
  ‚ùå All Blockchain Balances: Insufficient blockchain integrations working: only ['CRT', 'SOL']
  ‚ùå CRT Token Info: CRT token mint/decimals incorrect: mint=9pjWtc6x88wrRMXTxkBcNB6YtcN7NNcyzDAfUMfRknty, decimals=6

‚ö†Ô∏è  MINOR ISSUES:
  ‚ö†Ô∏è  Login Error - Invalid Username: Expected 200 with error message, got HTTP 404
  ‚ö†Ô∏è  Login Error - Username Wrong Password: Expected 200 with error message, got HTTP 404
  ‚ö†Ô∏è  DOGE Invalid Address Handling: Expected error for invalid address, got HTTP 200
  ‚ö†Ô∏è  TRX Invalid Address Handling: Expected error for invalid address, got HTTP 200
  ‚ö†Ô∏è  CRT Invalid Address Handling: Expected error for invalid address, got HTTP 200
  ‚ö†Ô∏è  CRT Deposit Validation: Expected 400 for invalid payload, got HTTP 500
  ‚ö†Ô∏è  Withdraw Funds: Unexpected withdrawal response
  ‚ö†Ô∏è  WebSocket Wallet Monitor: WebSocket error: server rejected WebSocket connection: HTTP 404

======================================================================

üìÑ Detailed results saved to: /app/backend_test_results.json
